{
    "collab_server" : "",
    "contents" : "# VARIABLE DESCRIPTIONS:\n#       survival        Survival\n# (0 = No; 1 = Yes)\n# pclass          Passenger Class\n# (1 = 1st; 2 = 2nd; 3 = 3rd)\n# name            Name\n# sex             Sex\n# age             Age\n# sibsp           Number of Siblings/Spouses Aboard\n# parch           Number of Parents/Children Aboard\n# ticket          Ticket Number\n# fare            Passenger Fare\n# cabin           Cabin\n# embarked        Port of Embarkation\n# (C = Cherbourg; Q = Queenstown; S = Southampton)\n# \n# SPECIAL NOTES:\n#       Pclass is a proxy for socio-economic status (SES)\n# 1st ~ Upper; 2nd ~ Middle; 3rd ~ Lower\n# \n# Age is in Years; Fractional if Age less than One (1)\n# If the Age is Estimated, it is in the form xx.5\n# \n# With respect to the family relation variables (i.e. sibsp and parch)\n# some relations were ignored.  The following are the definitions used\n# for sibsp and parch.\n# \n# Sibling:  Brother, Sister, Stepbrother, or Stepsister of Passenger Aboard Titanic\n# Spouse:   Husband or Wife of Passenger Aboard Titanic (Mistresses and Fiances Ignored)\n# Parent:   Mother or Father of Passenger Aboard Titanic\n# Child:    Son, Daughter, Stepson, or Stepdaughter of Passenger Aboard Titanic\n# \n# Other family relatives excluded from this study include cousins,\n# nephews/nieces, aunts/uncles, and in-laws.  Some children travelled\n# only with a nanny, therefore parch=0 for them.  As well, some\n# travelled with very close friends or neighbors in a village, however,\n# the definitions do not support such relations.\n\n\ntrain=read.csv(\"Data/train.csv\",stringsAsFactors = FALSE)\ntest=read.csv(\"Data/test.csv\",stringsAsFactors = FALSE)\nstr(train)\nstr(test)\n\n#\ntable(train$Pclass, train$Survived)\n#class 1 majority survived and class 3 majority died\ntable(train$Sex, train$Survived)\n#more women survived and more men died\ntable(train$SibSp,train$Survived)\n#most passengers with 0 sibsp died\nhist(train$Age)\n\n#Feature Engineering\n#Combine test and train\n\ntest$Survived=0\ncombi = rbind(train,test)\nstr(combi)\nnrow(train)\nnrow(test)\n\n#remove na values\nmean_fare=mean(combi$Fare,na.rm = TRUE)\ncombi$Fare[is.na(combi$Fare)]=mean_fare\n#Add adult column\nmean_age=mean(combi$Age,na.rm = TRUE)\ncombi$Age[is.na(combi$Age)]=mean_age\ncombi$Adult=combi$Age>0 & combi$Age<=18\ncombi$Adult\n\n#Add title column\n\ncombi$Title=sapply(combi$Name,function(x){strsplit(x,' ')[[1]][2]})\ntable(combi$Title, combi$Survived)\n\ncombi$Title=as.factor(combi$Title)\ncombi$Embarked=as.factor((combi$Embarked))\ncombi$Sex=as.factor(combi$Sex)\n\ncombi$CabinSection=substr(combi$Cabin[1:1309],0,1)\ncombi$CabinSection=as.factor(combi$CabinSection)\n\ncombi$Fare2[combi$Fare<20]=1\ncombi$Fare2[combi$Fare>=20 & combi$Fare<30]=2\ncombi$Fare2[combi$Fare>=30]=3\ntable(combi$Fare2)\n\ncombi$FamilySize <- combi$SibSp + combi$Parch + 1\ncombi$Surname=sapply(combi$Name,function(x){strsplit(x,' ')[[1]][1]})\ncombi$FamilyID=paste(as.character(combi$FamilySize),\n                     combi$Surname,sep = '')\ncombi$FamilyID[combi$FamilySize<=2]='Small'\ntable(combi$FamilyID)\n\nfamIDs <- data.frame(table(combi$FamilyID))\nfamIDs <- famIDs[famIDs$Freq <= 2,]\ncombi$FamilyID[combi$FamilyID %in% famIDs$Var1] <- 'Small'\ncombi$FamilyID <- factor(combi$FamilyID)\n\nwhich(combi$Embarked == '')\ncombi$Embarked[c(62,830)] = \"S\"\ncombi$Embarked <- factor(combi$Embarked)\nwhich(is.na(combi$Fare))\n\ncombi$FamilyID2 <- combi$FamilyID\ncombi$FamilyID2 <- as.character(combi$FamilyID2)\ncombi$FamilyID2[combi$FamilySize <= 3] <- 'Small'\ncombi$FamilyID2 <- factor(combi$FamilyID2)\n\ncombi$TicketID=substr(combi$Ticket[1:1309],0,1)\ntable(combi$TicketID)\nstr(combi)\ncombi$TicketID=as.factor(combi$TicketID)\n",
    "created" : 1480628692107.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2444654008",
    "id" : "930FAB52",
    "lastKnownWriteTime" : 1483941404,
    "last_content_update" : 1483941404175,
    "path" : "C:/Users/sanja/Desktop/Sanjana/books/CSE/Machine Learning/Projects/Kaggle/Titanic(Machine learning from disaster)/pfe.R",
    "project_path" : "pfe.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 3,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}